<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>GitHub GraphQL Example</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 2rem;
      }

      h2 {
        margin-bottom: 1rem;
      }

      .repo-list {
        max-height: 300px;
        overflow-y: auto;
        border: 1px solid #ccc;
        padding: 1rem;
      }

      .repo-card {
        padding: 0.5rem 0;
        border-bottom: 1px solid #eee;
      }

      .repo-card a {
        font-weight: bold;
        text-decoration: none;
        color: #007bff;
      }

      .repo-card a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <h2>GitHub Repositories</h2>
    <div class="repo-list" id="repoList"></div>

    <script>
      const GITHUB_TOKEN = "YOUR_GITHUB_TOKEN_HERE";

      const query = `
      {
        viewer {
          name
          repositories(first: 10, orderBy: {field: UPDATED_AT, direction: DESC}) {
            nodes {
              name
              description
              url
              stargazerCount
            }
          }
        }
      }
    `;

      fetch("https://api.github.com/graphql", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${GITHUB_TOKEN}`,
        },
        body: JSON.stringify({ query }),
      })
        .then((res) => res.json())
        .then((data) => {
          const repos = data.data.viewer.repositories.nodes;
          const list = document.getElementById("repoList");

          repos.forEach((repo) => {
            const card = document.createElement("div");
            card.className = "repo-card";
            card.innerHTML = `
            <a href="${repo.url}" target="_blank">${repo.name}</a>
            <p>${repo.description || "No description"}</p>
            ⭐ ${repo.stargazerCount}
          `;
            list.appendChild(card);
          });
        })
        .catch((error) => console.error("Error fetching GitHub data:", error));
    </script>
  </body>
</html>
